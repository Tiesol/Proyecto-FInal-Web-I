<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../assets/css/normalize.css">
  <link rel="stylesheet" href="../assets/css/style.css">
  <link rel="stylesheet" href="../assets/css/header.css" />
  <link rel="stylesheet" href="../assets/css/admin.css">
  <link rel="stylesheet" href="../assets/css/utilities.css">
  <link rel="stylesheet" href="../assets/css/footer.css">
  <link rel="stylesheet" href="../assets/fontsawesome/css/solid.min.css">
  <link rel="stylesheet" href="../assets/fontsawesome/css/fontawesome.min.css">
  <link rel="stylesheet" href="../assets/fontsawesome/css/brands.min.css">
  <link rel="icon" href="../assets/images/riseup.svg" type="image/svg+xml">
  <title>Admin - Editar Categoría - RiseUp</title>
</head>
<body>
  <header>
    <div class="logo_container">
      <a href="./index-logged.html">
        <img src="../assets/images/riseup.svg" alt="Logo RiseUp">
      </a>
    </div>
    <div class="search_container">
      <form action="#" method="post">
        <input type="search" name="search" placeholder="Buscar...">
        <button type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
      </form>
      <div class="search_dropdown">
        <div class="search_dropdown_title">Categorías</div>
        <div class="search_categories_grid" id="searchCategoriesGrid"></div>
      </div>
    </div>
    <div class="user_menu_container">
      <input type="checkbox" id="userMenuToggle" class="user_menu_toggle">
      <label for="userMenuToggle" class="user_avatar_btn">
        <i class="fa-solid fa-user"></i>
      </label>
      <div class="user_dropdown">
        <a href="./my-campaigns.html" class="dropdown_item"><i class="fa-solid fa-bullhorn"></i> Mis Campañas</a>
        <a href="./favorites.html" class="dropdown_item"><i class="fa-solid fa-heart"></i> Favoritos</a>
        <a href="./donations.html" class="dropdown_item"><i class="fa-solid fa-hand-holding-dollar"></i> Mis Contribuciones</a>
        <a href="./profile.html" class="dropdown_item"><i class="fa-solid fa-user-circle"></i> Mi Perfil</a>
        <div class="dropdown_divider"></div>
        <a href="./admin-projects.html" class="dropdown_item admin" id="adminLink"><i class="fa-solid fa-shield"></i> Admin</a>
        <a href="#" class="dropdown_item logout" id="logoutBtn"><i class="fa-solid fa-right-from-bracket"></i> Cerrar Sesión</a>
      </div>
    </div>
  </header>
  <nav class="admin-nav">
    <div class="container">
      <a href="./admin-projects.html" class="nav-link">Proyectos</a>
      <a href="./admin-categories.html" class="nav-link active">Categorías</a>
      <a href="./admin-admins.html" class="nav-link">Administradores</a>
    </div>
  </nav>
  <main class="admin-content">
    <div class="container">
      <div class="admin-header">
        <h1 id="tituloPagina">Nueva Categoría</h1>
        <a href="./admin-categories.html" class="btn btn-cancelar">Volver</a>
      </div>
      <div id="mensaje" class="mensaje hidden"></div>
      
      <div class="formulario">
        <h2>Datos de la Categoría</h2>
        <div class="campo" id="campoNombreCategoria">
          <label for="nombreCategoria">Nombre *</label>
          <input type="text" id="nombreCategoria" placeholder="Nombre de la categoría">
          <span class="error-mensaje">El nombre es obligatorio</span>
        </div>
        <div class="formulario-botones">
          <button type="button" class="btn btn-guardar" onclick="guardarCategoria()">Guardar Categoría</button>
        </div>
      </div>
      
      <div id="seccionRequisitos" class="oculto">
        <div class="admin-header">
          <h2>Requisitos de la Categoría</h2>
          <button class="btn btn-nuevo" onclick="mostrarFormularioRequisito()">Nuevo Requisito</button>
        </div>
        
        <div id="formularioRequisito" class="formulario oculto">
          <h3 id="tituloRequisito">Nuevo Requisito</h3>
          <input type="hidden" id="requisitoId">
          <div class="campo" id="campoNombreRequisito">
            <label for="nombreRequisito">Nombre del Requisito *</label>
            <input type="text" id="nombreRequisito" placeholder="Ej: Documento de identidad">
            <span class="error-mensaje">El nombre es obligatorio</span>
          </div>
          <div class="campo">
            <label for="descripcionRequisito">Descripción</label>
            <textarea id="descripcionRequisito" placeholder="Descripción del requisito"></textarea>
          </div>
          <div class="campo">
            <label for="tipoRequisito">Tipo de Requisito *</label>
            <select id="tipoRequisito">
              <option value="1">Texto</option>
              <option value="2">Archivo</option>
              <option value="3">Imagen</option>
              <option value="4">URL</option>
            </select>
          </div>
          <div class="campo">
            <label>
              <input type="checkbox" id="obligatorioRequisito"> Obligatorio
            </label>
          </div>
          <div class="formulario-botones">
            <button type="button" class="btn btn-cancelar" onclick="cancelarRequisito()">Cancelar</button>
            <button type="button" class="btn btn-guardar" onclick="guardarRequisito()">Guardar Requisito</button>
          </div>
        </div>
        
        <div class="tabla-container">
          <table class="tabla">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Tipo</th>
                <th>Obligatorio</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody id="tablaRequisitos">
              <tr>
                <td colspan="5" class="sin-resultados">No hay requisitos</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <div id="modalConfirmar" class="modal oculto">
        <div class="modal-contenido">
          <h3>¿Eliminar requisito?</h3>
          <p id="textoConfirmar">¿Estás seguro?</p>
          <div class="modal-botones">
            <button class="btn btn-cancelar" onclick="cerrarModal()">Cancelar</button>
            <button class="btn btn-eliminar" onclick="confirmarEliminarRequisito()">Eliminar</button>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer class="site_footer">
    <div class="footer_container">
      <div class="footer_section footer_brand">
        <img src="../assets/images/riseup.svg" alt="RiseUp Logo" class="footer_logo">
        <p class="footer_description">Conectando ideas innovadoras con personas que creen en ellas.</p>
      </div>
      <div class="footer_section">
        <h3 class="footer_title">Legal</h3>
        <ul class="footer_links">
          <li><a href="#">Términos y condiciones</a></li>
          <li><a href="#">Política de privacidad</a></li>
        </ul>
      </div>
      <div class="footer_section">
        <h3 class="footer_title">Soporte</h3>
        <ul class="footer_links">
          <li><a href="#">Centro de ayuda</a></li>
          <li><a href="mailto:soporte@riseup.com">soporte@riseup.com</a></li>
        </ul>
      </div>
    </div>
    <div class="footer_bottom">
      <p>&copy; 2025 RiseUp. Todos los derechos reservados.</p>
    </div>
  </footer>
  <script src="../js/config.js"></script>
  <script src="../js/search-categories.js"></script>
  <script src="../js/header-user.js"></script>
  <script src="../js/admin-category-edit.js"></script>
</body>
</html>
